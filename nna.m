function [y1] = nna(x1)
%MYNEURALNETWORKFUNCTION neural network simulation function.
%
% Generated by Neural Network Toolbox function genFunction, 17-May-2016 16:27:27.
%
% [y1] = myNeuralNetworkFunction(x1) takes these arguments:
%   x = 3xQ matrix, input #1
% and returns:
%   y = 11xQ matrix, output #1
% where Q is the number of samples.

%#ok<*RPMT0>

% ===== NEURAL NETWORK CONSTANTS =====

% Input 1
x1_step1_xoffset = [-90;64;52];
x1_step1_gain = [0.00579710144927536;0.0109289617486339;0.0103092783505155];
x1_step1_ymin = -1;

% Layer 1
b1 = [0.65474712557256565;4.4694877261440444;1.6667832066660524;-0.80738217241642485;-5.8841793907431086;-1.6337317228398196;-5.3223298261909333;-3.7115164341080567;-3.0415269538458465;0.7075126865311564;2.9816941949990943;-0.12121185511718711;-1.3907824697101152;0.070680625278504175;1.2663494746617283;-4.5490635304006304;1.9090576267404666;-0.7704197856202657;-1.4725353636431029;-2.4027388184458314;2.5017314219159101;-2.6821158470013065;2.2119227825210608;3.8680471262587663;1.8169393056591994;-4.435980342696431;-2.6731765797131826;-2.2264829348559458;-2.0845814381117118;-0.68197217279106692;-5.4322253507695706;1.584750222364059;-5.1040032091519354;-0.885561473494208;-2.0249011085571356;-2.4535062945886046;3.6166260723856762;-2.1479014037800614;11.823877945587542;-5.1841694585417741;2.2648742435087059;-6.4453643820447537;-1.2628001994927924;-0.38746819832007134;-2.1227644436799298;1.9751148082628376;2.2571926874817905;-1.5145022462731013;-1.5786581713819849;-1.7942345458284683];
IW1_1 = [-1.7384300363377072 -2.5973615142144828 1.877744826890289;-9.7777399352684053 4.788177714839108 -0.34428550397968261;3.1442138889400701 -8.7180276789518309 3.8892434392770099;1.8392620653698812 3.4470684950986517 -2.0376985463211601;3.6367196171242164 4.1366549377693991 -1.6361833687300904;-0.59554194862912246 1.559731267749674 1.3827061492153441;6.1916006331542963 0.0076234982401715071 -1.2690317526057906;5.0343914002017165 -1.1749517396184235 0.1188970985089408;2.7810241807532727 -5.4401250746339249 6.0632940251554199;0.13332292900175785 -2.3616881090237483 3.5358573644519526;-3.876956182165741 5.5682802025829652 -4.595854072015559;-0.56037403156387355 -2.1272407579464381 4.8323804908785499;-2.7594833074653722 8.0369412293450839 -3.3720932622872368;-0.10200608868433148 -1.6527600252002832 3.1880307801115206;-0.75926943658682811 -2.9735931708679382 3.5553608605116875;9.3541583132233619 -4.5577155764392874 -0.012377352214768277;-6.6350083034567398 6.4168189430316716 -1.76555922900107;-0.75822382703113889 -5.0979624875442235 5.7402024418455122;1.8862412183400399 -4.0317474649913505 3.5127706335937923;0.48472671355541935 -0.21864999497933063 4.1962243244456152;-5.4224177337207928 3.1410760594639915 -0.23666482930319516;5.8265315982227781 1.0258379738726986 -4.8945902720290437;0.1150107267232581 4.8741738311104541 -2.175086146367323;-4.0330873816138357 5.9084348817706696 -6.8082126760576172;-6.9798859749351765 0.59142355807054081 3.7313110219462469;11.228816976100227 -9.1836162019353473 2.7600332404518544;0.636453915692068 -4.9795224774877269 2.5575960503546571;6.3569730973700196 -0.64451853402070625 -4.3556356462006178;5.1740037980988216 1.4809313841256269 -4.2792118216734139;-1.4279450824639432 -6.2558621787015625 6.9304724303287637;11.989576683406915 -5.2860181516244964 0.3749641978391472;0.65132545115787976 4.1831242075249779 -1.2323488790856532;11.995076559659019 -9.8487299078380932 2.4429316254385665;-0.89561198259465646 -5.3134402458986729 4.543143542883147;5.3080145124760563 -4.2580857820182123 0.38432241225185931;5.1012542093448126 -2.9994567815082607 1.5865791192505643;-5.0367865971986134 3.3822039490059379 -0.41568143679780817;6.6647222119967209 -5.5646642498247854 1.1515134053214167;-2.2882524866012117 -6.2272469328468896 -3.5981581992651268;7.40359427827158 -1.6948705050214752 0.39096521632714559;-7.3375585508787191 5.4380998770182227 -1.9884464645245772;2.8060688971430037 0.15506416823438721 5.8873069968592695;-0.28276566033667427 0.89227590634408749 2.1452194959190538;-3.3881701968200422 -3.3833871444373775 5.7731517531255223;7.7095744779643471 -0.46731183187742997 -4.5711765232715242;-2.8909977918524041 0.58882405370812907 -0.1030386294189609;-1.5836152100350471 5.5013160061149025 -5.835069771678473;2.8567748241816258 -2.2790158224820178 0.058523765843832523;-0.83491721680534381 2.8509990647434957 2.5395505435723806;3.325103000056123 3.2011667608221459 -4.3397758731360474];

% Layer 2
b2 = [-0.38581143192987982;-0.64069214678209885;-1.6449053626565244;-0.97785017552619402;-0.76756593835592102;-0.12717871333752348;-0.46072983314469834;-1.4129009286822982;-1.1248283141534485;-1.881450384983941;0.52650708490558129];
LW2_1 = [-0.86965091281429274 0.23262944628865015 0.026197571444129229 -0.6474601082094712 -0.14345038555596487 0.087873726443813679 0.058371042480973225 0.12518506234476023 -1.9616097489451805 1.2444295028405961 -0.54739072903893304 0.75208749604905234 -0.03069019567779905 -2.2153589117916539 -0.62814805805155882 0.0006896067340214422 -0.060143949255180407 0.14670698645850208 0.42902799719098816 -0.34884093680121248 -0.27878703148197503 -0.0012593426490611981 1.026823239880911 -1.0093327145151056 -0.13130439425488871 0.030092261670531886 0.89780340231167877 -0.148465480182362 0.034077167533659469 -0.13797376057491839 0.16636492182559476 -0.50621922587164148 -0.045826195684904578 -0.065720038400233535 0.18686864280240789 -0.42938150109333212 -0.27238915170095596 -0.18049806114123212 -0.12408709474518062 0.11406524380566492 -0.16474683969579362 -0.20159701869951763 1.3792885191681141 0.17962424088180171 -0.024854007188475656 0.13810455480628392 -0.40481126533813799 -0.63047238168045383 -0.45151204894310998 -0.29798615184466598;2.157057284904127 0.64414816549403242 0.97674726774146647 1.3490021180248561 -0.53213554244127248 0.24488833913566754 0.94934333688661898 -1.7117731810029437 -0.018211969790350474 1.0597000938915229 0.32012763049903564 0.6158759603481162 0.97494242270983278 -1.4237351303424863 -1.0564202233424933 -0.187117684151416 -0.49722457725096442 0.71663637485957343 -0.13540371930656803 0.1624731178340609 -0.79680176091807509 -0.20639763057873844 -0.18074236335755989 -0.046025997604378976 -0.26186833746268551 -0.15720606653667943 -0.24919622995590751 -0.16138623834571678 0.41782510014198865 -0.57978817691014883 0.17678633475906122 0.22912062926218846 0.3309550368368549 -0.1564034304997359 -0.4980097349990002 0.37134992975926145 -0.075773578770233524 -0.22765715038655426 -0.31542617699624559 0.97150230357112954 0.19936015452374264 -0.051322635753342755 -0.461555002655263 -0.013803696168873399 -0.20313064232954103 -0.3043166817005219 -0.22821553769384409 0.27147236405599506 0.11603049956573537 -0.20367906428024293;-0.40648430112432038 -2.4081904957713323 0.48880037425386991 -0.35661949633830209 0.26371429432550242 -1.2846018222771154 -0.87563828623491036 0.35360498415731001 -0.44965503351917396 -0.15893745819143273 0.44107349515687705 0.2017739201744751 0.60994235350618187 -0.35290609143671059 0.68105335591681915 0.87333270058309154 -0.19405087301691479 0.31844230767301412 -0.33325416769561605 0.13493452121282112 3.0115095604284612 -0.14459405606321363 0.51110717400798311 -0.18571692793900363 0.72952038089477533 1.0072585801809117 0.44109216422549175 0.24579984643750757 0.27382030853413547 -0.022658386928060242 -1.2456747560552395 -0.18701250462819072 -0.50008476507487398 -0.25616424873388066 0.78026609981597261 -0.35192558682638408 0.06052997293121818 -1.0587651827678257 0.26116596660038188 -0.90031930722171183 -0.49504609307057762 0.36493274965225114 0.30388760652091851 0.062537096119510138 0.12649565170898056 -1.2916668636802362 -0.44283559543256484 1.0368585443003262 0.039586738244449339 0.48059448954384892;-0.42217573999138841 -1.5159189815860556 -0.88320017783133786 -0.29641663673398938 0.73575936398895092 -0.4599355617027201 0.093862895724229678 -0.5249845810215833 0.034978465357901077 0.1146626548469772 -0.060250719186114181 0.036547511867282972 -0.80129243381209048 -0.18314557680036234 0.092910838484338135 0.54809445593254791 0.69981458913726002 0.26985077076407549 -0.25576411564769369 -0.046376060095198825 2.3303518900172731 -0.084384370560573199 -0.33294583821476298 0.045448795423904481 -0.52343758864172352 0.1807931967533275 -0.15486816669263609 0.27093016514849916 0.098750134996003894 -0.19903649829494588 -0.81209570677197784 0.12592919989875181 -0.43704572238479072 -0.042213239470626732 0.96375636102579187 0.0088936972063013656 -0.24820547225343578 0.33120953467987629 0.56536153997366878 0.23624123673067687 -0.44515430192961541 0.036712835611112424 0.16167947814556013 0.030548567786005898 -0.74858774274508866 -0.26552150675115116 -0.066241463068862125 0.031792915240540259 0.11472159312947293 -0.11774413339262037;1.4624118187865334 3.3537561653728791 0.55159200451082413 0.75089244084286544 -0.31491627754825852 0.58494568008807135 -0.32340564025295615 1.3154554954611213 1.2724833422189106 -0.13767500269350252 -1.3867463511217357 0.045344614578300309 0.57565236234338402 0.77596169164911866 -0.22717098601655419 -0.37032322797557299 -0.38511526872154433 -2.7352863531506868 -1.7565146258603477 0.70443381781090952 -3.7155031064726778 -0.12918927582566586 0.17361998178058119 1.1655365026645987 -1.117217868228839 -1.6867283151643855 -0.16780188332308224 -0.12727493363533937 -0.037213028270050429 1.5178007444254473 1.5138393350123727 -0.13745011458634343 0.96883154905079216 0.081244993399008592 -2.5841394001019804 0.3803229741979447 0.45816907010838059 1.5636131095504773 -0.096730691695820714 -0.45324752630172654 0.88024860410612438 -0.048222172794290814 -1.8247777603380149 -0.30059764518782228 -0.87665673604544969 0.88366029461837514 -0.81957737143847786 0.17600016591699516 0.36622185632682203 0.41186799991075407;-0.55586572960142067 1.0879661962206097 0.4140588496228555 -0.14438592530919736 0.012981427954940065 -0.49516725999639039 0.12326659933358676 -1.383013690636024 -1.1281165014686936 -0.26680219750707784 0.5499364045996521 -0.12299598207232072 0.39467512691038642 -0.31908402954647719 0.47199475491435267 1.97000439083413 0.32304810201660417 2.8557300262791605 0.70945695268852349 -0.4809694457393886 2.0236303688721979 0.16869769998391076 0.13132631846076717 -0.66303854074214497 2.4579977352923228 -0.42117655417209277 0.19915955378216371 -0.095649835122958521 0.24165443165648604 -1.7187160386348834 -0.19812413696095565 0.026600880696878517 0.34152728359782319 -0.13727665307140277 -1.2406261231744204 0.41833931660711576 0.85075564728537334 0.95736913037449911 -0.30905784149474375 0.48429438287843546 -0.1642497614075013 0.055264070554876581 1.4262987783479681 0.4396834081123997 2.0029930518043257 -1.025005244578836 0.19197107717209211 2.3226779009029292 -0.38924030496645418 -0.037928747259593873;2.1913471391746184 -2.4966257365206563 0.99494374495374849 1.2620102079598829 0.096345729491810514 -1.0921523912724964 0.20762984646450672 -3.4654520496742061 -1.8741758215101625 0.17284187384903874 -1.0956776106511901 0.15379140132053754 1.1520570695845747 0.20014311771474008 -0.26181521127695978 -0.56009208903034957 0.88993202492345791 0.012671221617155264 -1.1696795356363439 0.50378789382881062 2.2530693645596682 1.5563415814652386 0.75390992087928044 -0.79893113401308147 0.21064817266232716 -1.6215291881946492 0.53047956129542162 -0.89538412095961617 -2.4408684217350509 0.71017176512576086 -1.098916393230885 -0.29776855686254178 1.7895210530369234 -0.62899661961865405 -1.9397710074303673 0.63576699941396453 0.40174844227840795 2.628879185335899 -0.53373331352261755 1.2549134533290764 0.6313277824054282 0.18134622646572268 -0.1401568356898347 -0.58139967826078109 0.9811512099259091 -1.9329569589807156 -1.3096570943271675 2.4064377655401703 -0.056878964487669215 1.2753523316393747;-1.154588746805062 1.8289188507152698 -1.3270496320676641 -0.51190414008447871 0.03762567751958084 0.70412296858151113 -0.38036275716482054 3.9138549835428305 2.9758335799350086 -2.3880898680097551 0.32213320240009363 -1.649881408447345 -1.3961168571009672 4.0896882450925593 1.296196987093208 0.26371872914873623 -0.38472418169218026 -1.0008470306212665 0.50433270969114075 -0.020885308848820141 -2.3388102988305155 -1.5344319031189855 -1.3623880885506841 1.6440599767903161 -0.17295001728972273 -0.39999613314645527 -1.12564628863898 1.403916722487375 1.9511834852165664 0.25107507566949921 0.79320084978998373 0.62850679768882356 0.28008540010202559 0.63177730527152065 -0.38169329070576369 0.2838741730531662 0.68690146299170363 -0.37949014536760489 0.61745583050613595 -1.5338897366531272 0.20182848679160895 0.12028901075917252 -1.3539577451832661 0.15132524797218058 -1.1650944101123557 2.0270432276129262 1.4649523024977582 -0.64770677178714975 0.49481005933134414 -0.50485013223945219;-1.2650893501201486 0.58800413957135311 -0.13809193714747886 -0.65901156545808171 0.048027043179544482 -0.028222478439521016 -0.082641061107240107 0.78713113104638122 0.36799720571498101 -0.21491549416769512 0.060331762956475826 0.082703141505228575 -0.18672389985669857 -0.52506911559296165 0.64902214011433101 0.074386371770359158 0.87968436729898702 -0.40847285230482089 -0.23207902539950631 -0.35908341293197699 0.096137757266609017 0.4223760706050313 -2.3355157361882148 -0.071895929734038397 0.53316244262553436 0.031134147991021509 -1.5618614676446978 -0.11736226362842875 -0.62207928106518373 0.36222790175886466 0.30365456471398722 0.83539950505321547 0.14643451483279657 0.33418423874602182 -0.55071883367136243 0.19522701162005229 0.51457617284587776 1.0019431012643218 0.087829339422649116 -0.24863111185119791 -0.00036246173094655752 -0.1221964882061662 0.90709171895811425 0.053230104753681819 0.89137306004803973 0.44164228314608295 0.23896238791406801 0.87685268135518124 -0.2101503331766994 -0.17326320551821528;-1.214450391929969 -0.9971940548888929 -1.2398267224250243 -0.80020020741238951 -0.22417602510200141 2.0242454942826007 0.27834866564005201 0.62238339185102864 1.0703565737484997 0.60711608580837007 1.4365390968220209 -0.11081621016992022 -1.4412919618584439 -0.097170875916809382 -1.0848209082001521 -2.6619421082972781 -1.368634228743834 -0.18902111132983315 2.3066674388053294 -0.31997642764105316 -2.9718012417345028 -0.066939225537558045 1.5376184318073345 0.054057769002695641 -1.9400608073512229 2.9859447631113363 1.1086385766139562 -0.37379805806638627 0.13850083963696538 -0.2367261807791598 0.60830797818453719 -0.70449213602619032 -2.8427251675636613 0.2896714641610954 5.3999528070470255 -1.5752925421042436 -2.4850073788928806 -4.8160900155843178 1.3926415837373625 0.14295662127447034 -0.67806642246307558 -0.39275433791719488 -0.38355432387327876 0.0088475890634176022 -1.1825021559680067 1.5413211135209457 1.5025859706731712 -6.1846050458033721 -0.050490908026644764 -0.91999636530806794;0.13568207154568615 -0.34484254338213111 0.15018417336563666 0.090597470219252532 0.021449227702770513 -0.30007150844147329 -0.020753599891259196 -0.089944322130595361 -0.31187237879506241 0.0030271671664524507 -0.034916969986260538 0.016921762982274789 0.16562561382391364 0.0011116852843909709 0.040035263894577788 0.056673509488041458 0.10462567767201697 0.037537249750806224 -0.084093612862170805 0.077315714990195988 0.43202891734904753 0.015454572013623784 0.058480247377996314 -0.14664491053590731 0.21283220777727468 0.05476511308857096 0.069067700150788211 -0.0018522230457165825 -0.048002315162921722 0.037639268409061663 -0.22938532076010845 -0.00026680284078133432 -0.032357238324319859 -0.057253880661118549 -0.13639701255794376 0.078217268589771072 0.10714329354113022 0.19111620329177151 -1.6356312769954102 -0.04061752164240278 0.033987067917447246 0.058843828295858477 -0.021494670107304308 -0.031629185334866465 0.19419668072572574 -0.23612119588652025 -0.14629174056145131 0.36796801635327991 0.032732174019676749 0.082687636487811716];

% Output 1
y1_step1_ymin = -1;
y1_step1_gain = [2;2.06185567010309;2;2.04081632653061;2;2;2;2;2.01005025125628;2;2.11640211640212];
y1_step1_xoffset = [0;0;0;0;0;0;0;0;0;0;0];

% ===== SIMULATION ========

% Dimensions
Q = size(x1,2); % samples

% Input 1
xp1 = mapminmax_apply(x1,x1_step1_gain,x1_step1_xoffset,x1_step1_ymin);

% Layer 1
a1 = tansig_apply(repmat(b1,1,Q) + IW1_1*xp1);

% Layer 2
a2 = repmat(b2,1,Q) + LW2_1*a1;

% Output 1
y1 = mapminmax_reverse(a2,y1_step1_gain,y1_step1_xoffset,y1_step1_ymin);
end

% ===== MODULE FUNCTIONS ========

% Map Minimum and Maximum Input Processing Function
function y = mapminmax_apply(x,settings_gain,settings_xoffset,settings_ymin)
y = bsxfun(@minus,x,settings_xoffset);
y = bsxfun(@times,y,settings_gain);
y = bsxfun(@plus,y,settings_ymin);
end

% Sigmoid Symmetric Transfer Function
function a = tansig_apply(n)
a = 2 ./ (1 + exp(-2*n)) - 1;
end

% Map Minimum and Maximum Output Reverse-Processing Function
function x = mapminmax_reverse(y,settings_gain,settings_xoffset,settings_ymin)
x = bsxfun(@minus,y,settings_ymin);
x = bsxfun(@rdivide,x,settings_gain);
x = bsxfun(@plus,x,settings_xoffset);
end
