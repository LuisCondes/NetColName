function [y1] = auto_nn(x1)
%AUTO_NN neural network simulation function.
%
% Generated by Neural Network Toolbox function genFunction, 21-May-2016 15:28:38.
% 
% [y1] = auto_nn(x1) takes these arguments:
%   x = 3xQ matrix, input #1
% and returns:
%   y = 11xQ matrix, output #1
% where Q is the number of samples.

%#ok<*RPMT0>

  % ===== NEURAL NETWORK CONSTANTS =====
  
  % Input 1
  x1_step1_xoffset = [28.6548121;-39.62021912;-35.03223284];
  x1_step1_gain = [0.0288958129845045;0.020587195116699;0.0201308673646076];
  x1_step1_ymin = -1;
  
  % Layer 1
  b1 = [-0.844813730314663;3.3089329182792082;0.31792110157041753;1.9710494859547703;0.84918645931895664;0.38543152341450126;1.8783928554646654;1.3158471733808454;-1.4990606369377448;-2.12961237227614;2.6291311131630244;-0.12766287595437192;0.43941374818634177;-2.6280657700830679;1.1290274135974443;0.87257291923924707;-1.9152609422882008;-0.79270448862224319;0.060121895435657949;1.2838129492760477;0.44297919512959949;8.9702325592837884;1.3467756100565174;-1.2477383944288865;0.60483750016086413;-2.4862037437613407;-0.59709995340797062;-1.2937260157303094;1.1568708582380465;3.3156173811704601;0.65284957225975682;-0.58038283769260501;-1.4608336587822852;1.1197907303509909;0.61594803010200483;0.23454898554742354;-0.23458122402938442;1.4171248347820031;-3.6570128282758039;0.52440778110374198;1.2171932092282489;-0.46929234935793512;1.9817278983583739;-0.94612090688220385;-0.17424417846576226;-0.22603512487790448;2.5860365408553876;3.388710088256099;-3.0435172249754308;-2.591928415090905];
  IW1_1 = [1.4659787321894986 1.3274091064262008 2.9784470691830141;-3.4076437892253875 2.2733100786574583 -2.5485813659575198;-1.605838253378552 -0.90872732799620815 2.6825043619397295;0.89730286521244629 4.359200736738293 2.9503066435196863;1.2832350221855793 -3.5950206100315802 4.0695978897183087;-2.9553656308164342 -6.1782450892919352 -1.8352648995225125;0.44539154369479544 3.2029433287570219 0.80910548637403545;-0.63080664427132616 -0.21681041339669882 -2.9852036086792499;0.39467443243666012 2.4259096666910693 -5.6623710629403305;1.6618562474614211 -0.54550980825582096 -4.494540098683439;-0.29562218975895738 7.9776870036223473 -0.35889614783079027;-1.9955728195912601 3.051479760134316 1.0550664469281572;-0.060357359248722424 -2.8800604789270436 3.506284510591744;0.059562557666458522 -5.810563629112611 -3.8767407818495636;-2.0045058763935648 0.36362614733207671 1.9985014886519454;0.15894416935610606 -4.5863848964095117 -1.3156667463220597;3.1402314061305803 4.2716503262337442 2.1753142090390005;0.56475141693457165 -1.6131565793254463 -1.1258775862958821;3.2547736304644825 -3.0936297372838375 -1.2584704938739593;0.070291177431282742 0.29583056088076176 -3.8009832748310628;-0.2890577786177202 -1.5546773096927802 1.7558093404669763;-7.2737349001672102 -3.0960071491488783 5.5360807131899099;-0.19602674158510774 6.0557086242461997 -0.55926731064750268;2.3578773738120762 0.69201204918312553 2.4280385305128971;2.3177698467631482 2.081059869947786 7.7001918416064745;1.1910824695566733 3.2940122102065406 -4.392051956241497;2.1093238774850884 1.7277962585530886 2.5016156754727992;-0.0038764097175323186 -8.574286703700178 0.46892850138623804;2.6780781232450694 -2.8703716711130594 2.3681266156637326;-0.47207245503054607 7.5517998727878677 5.4982887452621743;0.56337547061188353 -3.307527266376229 4.0330295905060281;0.78543632437962985 -8.1403925614533001 1.8575116545004431;-0.063589721767337709 -7.1083555972411201 -1.2738965612140296;-0.87234558852828337 7.5708368678328313 2.4768698808804666;1.7175414989951732 5.8196750841945892 0.2448102090690632;1.204801257835266 1.2433955073923668 4.7499549886329087;-0.92157118574976027 3.4450851216519571 0.92842502723706322;-0.34786516573642162 10.423581022710719 -0.08630195973597829;-0.40107127490023553 0.71320012775165176 -8.327757120818811;0.3693774515428172 1.7339791126285549 2.9342885289418037;-0.68358020369326933 -3.5391998320076388 2.9681229213846878;-1.6547341066799874 -7.8485470275924669 0.80303199300240546;1.5293829918891597 1.6535462498386366 2.5282683237185681;-1.1446406294819982 -1.3648844205528678 -1.351779597992552;0.28878811083365841 0.54306664467867471 3.2780366765985027;-2.9321692169042253 1.1376760555756971 -1.9622268760102777;-3.4581920656733076 -5.3336015861841775 -2.9656024886004135;-0.10424285118080798 -5.2735959893622466 1.5951660396663825;0.053057839768515379 0.80523627228175976 -6.8658896453411398;1.6624326792109929 -1.1979903306238751 -4.5946312982611763];
  
  % Layer 2
  b2 = [-0.31918204065705741;-0.76207054062238333;-0.79530923391860642;-0.68146367987530787;-0.7928248248823756;-0.15582919608346735;-0.50522191726871313;-1.6585559573155197;-0.90137202393330729;-2.8924290430807384;0.58306841434888901];
  LW2_1 = [-0.56317403477438455 0.090484053324609459 0.34472728566435767 -0.11442913329060571 -0.19529722707145403 -0.072372361971590651 0.11382938279823734 -0.54855503419102336 0.10516563342681796 -0.24204021276554694 -0.02574895500638873 -0.3958017994297004 0.90437613020853769 -0.11204445858980609 -0.39157982699710564 0.43224576348763444 -0.023905875795450466 0.073310252684691046 -0.042091672242275106 0.1953600662512496 -0.92200663318664944 -0.20672947829282473 0.17806568867340802 -0.12063775561498659 -0.12823561527439442 -1.2508899757319196 0.29825482181870167 0.27029408476023981 0.020312185176726772 -0.040903201910239141 -0.10564500672015054 0.037548366462028401 0.0047957814031641096 -0.075470869753664238 -0.10327944277227707 0.087269658361876792 0.73956444992985149 0.10324513482397515 -0.092882795685259076 -0.13823638047153508 -0.97799182915535188 -0.079873619904200152 -0.13306502144499716 -0.024128721198649977 0.42641340775350545 0.030611784795448054 -0.032559459478492161 -0.43559128488863902 0.16652269354913127 0.15574155877396134;0.10389679321915889 0.50502867836468612 0.10280111789989278 -0.073314620703742964 0.084974437145439147 0.032374619092835497 -0.36853879256174854 0.34609353791232839 0.17730596136779811 -0.082788177222850548 0.12595869389274242 -0.15781722229864892 1.2654815261329293 -0.2777750989858061 0.11515431195748518 -0.27870551193318871 0.095174717581831977 -0.17428028422501332 -0.057950003953384427 0.23256502091517456 -1.4929729790167328 0.10914164330007074 0.16553337060253998 1.3926298043824887 0.42380989685324988 -0.071454959467106449 -0.857260451922505 0.31834777546300963 0.08750643981089104 -0.10497264501787712 -0.67881566559107098 0.16052590084495369 0.30502395357097373 0.084579468983205355 -0.39472101858966818 -1.1245869012395842 0.01524687322293382 0.42813912871032983 -0.055873365537307533 -0.33148424968801227 0.41250664363913525 -0.36460154935684241 -0.42520372428790038 -0.85849483172925301 1.1878500165551378 -0.085492298388003679 -0.31680340437294652 0.27298780997562472 -0.030155559390748057 0.11761015762424805;-0.99911226653119234 -0.24012328331575217 0.28828387979735537 0.90353072537456847 -0.27895563464624412 -0.012499132573831017 0.51933147801112411 -1.7031825196212378 -0.19351576096430248 0.57867747285302773 -1.0527541938979845 -0.070052887525731994 -0.25011967877300384 2.5291349965558867 -0.13694667841315544 0.44708020714794777 -0.71819130940778342 0.52462677383668133 -0.081633178055069394 1.0744714265515272 -0.19928920109281659 -0.32016595235523476 2.1910273292252449 -1.3851451941041157 0.55836907630059374 0.306344623184722 1.4488080725896921 0.54933400890197437 -0.0012360550641864049 1.2650676427277967 0.54739105167709079 0.2807864204432044 -1.3531709147452007 -0.46435788455311167 0.10886109753016726 -1.0031553955090977 0.60300724060541899 -0.56481585245310539 0.0024569860409686217 1.1956699410588938 0.78166345828195161 0.080751115562009201 0.80128936578162224 1.6829051932396786 0.52800946175905161 0.061640189095659076 -0.071313585160509771 0.038403983806466528 0.19201916697611032 -0.44342915592039678;0.81909806894512982 -0.4299769996490031 -0.19982088164318187 0.44398971965040124 -0.029948924385745243 -0.33482671307520778 0.66856463079275652 -0.30124543449252977 0.13490072670759148 0.13802121460556413 -0.319029994967365 0.59360458312740261 -0.098319667560129817 0.77490798156250951 -0.099865902214824512 0.20332242531519906 0.65216040391383934 0.15686269060677119 0.2247653813455037 0.24184208120398584 0.70331032555705264 0.077043941528195409 0.16980313467542166 -0.42355500763129045 -0.22008007244228292 0.037329984379088417 -0.86822771051560288 -0.068040656166944102 -0.050582814393517091 0.24754679812052746 0.16133652926004713 -0.1918060333536647 -0.58171257404230159 -0.25157032335595042 0.57316364648460216 0.51503263164616442 -0.30469363996639659 -0.62579957369342309 -0.079739989418070839 0.30502888606411144 -0.27702782241751722 0.43372405493224037 0.29497816158497925 1.2796738606885365 -0.15479138207034865 -0.057897169316750499 0.36595530403539805 0.060355928131273967 0.082126167655620419 -0.2698352968046569;-1.0242489223317897 0.21122888702895515 0.10661875405881698 -0.35854643164524341 0.54726575094392993 0.28725671081162268 -0.35863705325487899 0.38251033625413761 -0.6636427465386453 0.38666976343927545 1.6304436269181795 -0.50954321470923813 2.1030674561867304 -1.2816276160786424 0.52367509817370328 -0.31803352862013362 -0.48061918610414495 0.37330020848593237 -0.29749241864045783 -0.7554235972921004 -2.0184426935064965 -0.052079218301282801 -3.8176275322115441 0.239843811793779 -0.5190528468766421 0.056636938990186084 0.9048860329774806 -1.0275999764705084 0.086127649601090456 -0.66833063413010418 -1.7910047025718443 -0.060990167902311578 1.2748612087291795 0.35317715437678149 -0.28572980031987272 0.66585325598760481 -0.13171025983428003 1.0709065888155289 0.96202496740185406 -0.33501034134701596 -0.092584172334176595 -0.44423329585448273 -0.13664121261194609 -1.0600135458157853 -0.56382541095588545 0.13382402479929839 -0.30689175511354339 0.19066485119622167 -1.2984110754519187 -0.31692866378450635;0.76056186525722969 -0.030980961279827288 0.27480780947826006 0.837025136500265 -0.39937256534743487 -0.12574852033409822 0.57231626118225898 -0.26236360440736545 0.46689702309201203 0.047493120851047316 0.15173660708276807 0.27937857343735811 -1.1538092110275393 3.1259409136049854 -0.437749155244466 0.23879707811433329 -0.18319869300110392 -0.23241489863985085 0.19814283289360285 0.52820805380109404 0.8805895012287619 -0.05630448933950017 0.28369266502484325 -0.16437093834881308 0.81116236311594725 -0.26886710294631733 -0.25907845140541724 0.98190830662985129 -0.013905500490864661 1.704757113924106 1.2934616194352515 -0.0013441395066639795 0.13539637625166728 -0.11608581073037935 -0.17683335759912719 -0.77757642230463075 0.21829221980811664 0.55714289367784631 -1.4277116143296353 0.97959956091191058 -0.10082431447679717 -0.22795855255790784 0.56409650932653954 1.635196323039404 -0.18577810873541031 -0.075251331666253085 -0.15494244771852214 -0.088461207017871885 2.0838758616073574 0.11135922465241589;0.35901729452327991 -0.16855370226220828 -0.3149963893778075 0.47254456647928811 -1.3677749419712928 -0.32914767921027172 -0.13948900776701942 0.31179473312938522 0.065230047995720158 -1.4539299169795397 -0.011632851149802441 -0.70694589782521178 -0.94083597250483231 0.33368848425930575 0.17919140721587609 1.2142896205645946 -1.2352317509993755 -0.58934372486994935 -0.17837222672298228 -0.1604165366279896 0.27581755572697658 -0.27826463392919021 0.14165538899470789 0.26007191958753834 0.27152148508165969 -0.052280408518949113 -0.5080855525116984 2.5452357238624854 0.39194906843933763 0.31331902622303659 2.0048594780949944 -0.058319848229756277 -1.0805459584507451 -0.95227027606967751 -0.50188559074080796 -0.31575690556479091 1.8339314870709884 1.7281275212828322 0.13055109144731739 -1.4681985367371548 -0.27890450585885862 -0.8516134512283241 -0.083524568168892421 -0.35668657822087307 0.45574588894907431 -0.066531686931023445 -0.97799826061930539 -0.18966216152812337 0.050897791525931969 1.2508093232798319;1.0102936278801515 0.035414976555730067 -0.34194638856973147 -0.38491748907522583 0.99514420322573738 0.49453879579698196 -0.20234184488184262 0.79603405281466721 -0.19921004735280373 1.5232845827492534 -0.0089733286960794294 0.64886764904640426 -1.6142723884347061 -0.62452941511617943 0.26048323821780972 -1.0869191960628157 1.6768052602453618 0.2704090780432335 -0.010119087227893045 -0.67506257947117898 2.7741298758823967 0.60518885556759583 -0.13260494090487665 -0.14970996442996995 -0.84616380722816109 1.2372915993996236 -0.10333644101939048 0.39124009901577522 -0.14936485765068991 -0.46460347130979074 -0.77671947495057003 -0.25058736090073308 0.70432458888926974 0.84587534208721671 0.52032156221595793 2.0124569403941592 -2.0340602190760935 0.65705585942569678 0.41072075243238032 1.2517478445535883 0.095724788587107715 0.29701733810111464 0.65517048881412021 0.48200757685516293 -2.661128696551613 0.20195425523330959 1.3309223760437836 0.19176881252055153 -0.68247401710104838 -1.2805438896707593;0.64593189641804016 -0.05882888926332433 0.18580617746351893 -0.15426729938332423 -0.08867823231178544 0.026570135975746367 -0.50292769540322158 1.3379085169178271 0.054770378591163071 -0.3032217986022458 -0.3139413964399842 2.4516493938921617 -0.18371072857597756 0.11861156714893026 -0.39537556851022421 -0.22168536464732691 0.0046476111867899648 -1.3808434735210235 1.1072826425912226 -0.64114607124948364 0.48214059881636179 -0.06847413900488214 0.63255905814392011 0.38590288923979504 -0.032654798140173823 0.12644038935481403 -0.40500625320121825 0.183556953390139 -0.081260428177117594 0.082194881422375576 -0.048986306456094211 -0.067424006135934161 0.15140289083632463 0.028362165319619749 0.23978408491604378 0.17442772243935994 -1.7886294919676864 -0.1057803146893472 0.1764267397782272 -0.41550760500995421 0.10344403200690368 0.13749866177793979 -0.75744926194089246 -1.1178462117897836 -0.4860666502032564 -0.20535774462030404 -0.011050767280912515 -0.094003651871881533 -0.29664047562119172 0.34992328840488995;-1.2290657164144481 0.086527396490617262 -0.44549243177538295 -1.627051978304517 0.96005157762955362 0.016387993767486814 -0.29655954968418036 -0.31996785273485356 0.036785668377037152 -0.73975377583377011 -0.09335092671115014 -2.1611066555699008 0.30748019675844601 -4.8822489443236394 0.43460419990231386 -0.71397116385278481 0.38659264940000992 1.0590785706649712 -0.89530493433747249 -0.12439106576358998 -0.73338532294264669 1.6966854567293639 0.014243232169584823 0.015776250637071401 -0.47358937503939513 -0.13340907128221396 0.38341394394068423 -4.1904290170478502 -0.30501567971486954 -2.5221819875320124 -1.0596484013302827 0.13290374037059416 0.53172537097082118 0.62511391779698722 0.0076099793205618126 -0.0061285917717218853 0.78227522944067573 -3.162365874983859 -0.078676491709735466 -1.1964180128870521 0.37619075074764347 1.0574261482785243 -0.80918189175816191 -1.7457113294176072 1.4645969819921403 0.070665333996382904 0.32797028342198142 0.072471338190221724 -0.23487751957252881 0.49024398437726263;0.14003601081601982 0.0040232765649900705 -0.0012237888222851681 0.065210754379915192 -0.24283796362491317 0.012147241159822981 -0.0083159869554311431 -0.042655348528031906 0.02581602792674955 0.1553928721663245 -0.090790110010417965 0.043659575967075197 -0.32528840241596929 0.32242042743724775 -0.061756864187208604 0.084739344199903907 -0.17562193477036678 -0.098188319815698019 0.041066490262914541 0.1047371543309971 0.23400146904727961 -1.6007403264768947 0.19925768659621523 -0.020441921579641784 0.17069436844065869 0.012328547659141943 -0.081077630194050648 0.064601776439728878 0.018669991562970664 0.20162457079505894 0.46917200121215685 0.020176639051941895 -0.10079142230280497 -0.085479112703815849 0.012069526301546519 -0.26380453150593797 0.06107633421488589 -0.08870154513956785 0.056064845941930321 0.15745373672841387 -0.036105332058532495 -0.045080178135052905 0.018658489131630148 0.086246433699218472 0.025579353033763335 -0.014489379677860657 -0.17132482581368694 -0.013127409847579576 -0.039221874926680535 -0.1781680669216123];
  
  % Output 1
  y1_step1_ymin = -1;
  y1_step1_gain = [2;2.06185567010309;2;2.04081632653061;2;2;2;2;2.01005025125628;2;2.11640211640212];
  y1_step1_xoffset = [0;0;0;0;0;0;0;0;0;0;0];
  
  % ===== SIMULATION ========
  
  % Dimensions
  Q = size(x1,2); % samples
  
  % Input 1
  xp1 = mapminmax_apply(x1,x1_step1_gain,x1_step1_xoffset,x1_step1_ymin);
  
  % Layer 1
  a1 = tansig_apply(repmat(b1,1,Q) + IW1_1*xp1);
  
  % Layer 2
  a2 = repmat(b2,1,Q) + LW2_1*a1;
  
  % Output 1
  y1 = mapminmax_reverse(a2,y1_step1_gain,y1_step1_xoffset,y1_step1_ymin);
end

% ===== MODULE FUNCTIONS ========

% Map Minimum and Maximum Input Processing Function
function y = mapminmax_apply(x,settings_gain,settings_xoffset,settings_ymin)
  y = bsxfun(@minus,x,settings_xoffset);
  y = bsxfun(@times,y,settings_gain);
  y = bsxfun(@plus,y,settings_ymin);
end

% Sigmoid Symmetric Transfer Function
function a = tansig_apply(n)
  a = 2 ./ (1 + exp(-2*n)) - 1;
end

% Map Minimum and Maximum Output Reverse-Processing Function
function x = mapminmax_reverse(y,settings_gain,settings_xoffset,settings_ymin)
  x = bsxfun(@minus,y,settings_ymin);
  x = bsxfun(@rdivide,x,settings_gain);
  x = bsxfun(@plus,x,settings_xoffset);
end
