function [y1] = biglabnn(x1)
%BIGLABNN neural network simulation function.
%
% Generated by Neural Network Toolbox function genFunction, 08-Jun-2016 04:28:43.
% 
% [y1] = biglabnn(x1) takes these arguments:
%   x = 3xQ matrix, input #1
% and returns:
%   y = 11xQ matrix, output #1
% where Q is the number of samples.

%#ok<*RPMT0>

  % ===== NEURAL NETWORK CONSTANTS =====
  
  % Input 1
  x1_step1_xoffset = [0;-50;-50];
  x1_step1_gain = [0.02;0.0200561572402728;0.0200561572402728];
  x1_step1_ymin = -1;
  
  % Layer 1
  b1 = [-2.3867866800339752;-4.0641925781745387;0.73639279403069691;-0.86960532155102488;-3.3524212728395097;3.196449645554388;1.3238509673844259;-1.0603923050921218;-0.92412298514413371;-3.1210600707127165;1.0714240518359335;-0.91709010465330099;-0.019691137698578557;2.072542492284609;-0.29426995744528295;1.1349626774562176;0.28709805759988333;-0.021769519702921188;-0.31915396143452218;-0.10514415935547822;0.15229972175148423;-0.17315508317063991;0.4370711236870205;1.1118938147210498;-0.21431017081725351;1.3392711798431276;1.5389503427533739;-1.6570732289810741;0.42012866777345098;-1.2324564860539491;1.6615206312171222;-1.4748406823223947;-0.84137111950498689;-1.5801028826722814];
  IW1_1 = [1.070049192678918 -2.6789730183537168 -0.96612729663976304;2.9640527357390654 3.3192841310863899 -0.022639274994552438;-0.87748858641128114 1.2197993183472771 0.78715307375042232;0.87038697896071926 -1.4514238256687229 -1.0157231607986454;3.1060760410425812 4.8002571632523248 2.0259673694795137;-3.0653607309416229 -4.567219947756632 -1.9861015540764688;-1.7906794426814323 -0.538257359555257 3.7185150685759387;0.85446630475707464 -1.750944364914329 -1.2715727771226224;1.926779463812883 1.6555666922213268 -2.2049821001028365;0.52169638263321516 4.5828761896211176 -4.1364178682401427;-0.20742771448987424 -6.183350659446849 0.33035375691328756;1.6489845062952428 0.50343922581173106 3.9334773736062614;1.3395698128692302 -0.56299051851006188 0.17173273478987411;-0.1926415890335316 1.721651230114134 8.7898995646408586;1.011570132920842 7.2550413429290685 1.3142537906538347;-0.071857990359541948 5.6369977525935528 -4.6874382891788482;-1.9461299749854735 -2.9122088459891873 6.7684619866646578;3.193839215402682 0.93368937388822359 -2.368926168241658;1.0787381216682721 1.3001358799762965 3.1672641751719204;0.30323998504517879 -3.8083579435083315 4.4541093454689076;1.0196807448048262 -4.2051910388578371 0.043622170075746668;-1.4162245216228933 0.41341345400164636 -0.33432251715753719;0.88584561439667686 3.3539469624643474 -2.9983786249236539;1.0892137876512964 -2.1293761320773661 -2.0754501452359411;2.4166757759279749 1.921589575514884 -1.1816389964938074;-0.099258824479909122 -2.8405777148677585 5.9668162437060053;0.96205631602755171 4.6506110160282175 3.2506229333368961;-0.98710075275361575 -4.9122617342912047 -3.3498672316996321;1.4994328487489967 -0.26080901984002025 0.49382817346693841;-2.5103470239232819 0.98305545000859595 -1.6949176731486413;-0.52352799995269073 -0.2424376077975067 -4.1340401400717193;-0.82439204114280729 5.6251309665274993 -1.7507396304547849;-1.7455875133902752 0.20068562224584185 -0.75965877003588622;-1.3203028721461727 -5.2888185593667973 2.8069665928168428];
  
  % Layer 2
  b2 = [-0.89212352219822311;-0.9744160072484408;-0.58232993425922019;-0.85166962716788319;-0.60452896674946277;-0.56594315248114879;-0.89478320229524588;-0.58869890497893584;-0.93117757253157052;-1.1208944957430271;-0.99342394421985059];
  LW2_1 = [0.16056140203656824 0.057786094867338635 3.749140339524391 5.668129122063279 0.14238133361264035 0.18260413955091831 -0.40166162626925561 -2.5274396324769626 -0.4783241203085426 -0.008925840878851227 -0.096170511575031314 -0.11578963476098832 6.1305220210286464 -0.11517636959575066 0.013415454364807624 -0.34770878580589121 0.32557676808258795 -0.23198880905551184 0.39872393563915176 -0.56060471644874332 0.17597030569870739 11.1810771334851 0.49227002888504251 -0.1490584198100911 0.31460938288310103 0.3619062152470261 -0.5710526149849402 -0.43911093012263142 6.4852621260405341 -0.047681437878382318 0.18633356185339614 0.083348111153205645 0.99959371712523581 0.097041601745579326;-0.05647423261341749 -0.1608520270880926 -0.75136266944355157 -0.63477463515745036 -0.019231091140025493 -0.12997628832193822 -0.088450366250922327 0.27427089237318847 -0.39614471489045822 0.045368380979477804 -0.36821936869761107 -0.036524878839277145 -8.0175942193756669 -0.042278087334219352 -0.17169190983038224 0.38393736078879098 0.19379985064647304 -0.05199146096612229 0.04190187655981896 0.67528585594695356 -0.24003717285436235 -17.477972274141564 0.57447268747403002 0.00077845331456203606 0.31974206194734905 -0.2107167582731499 0.12309333341377496 0.11988923608138849 -12.800540128665302 0.33517773346795798 -0.039334113968789032 -0.39382667008119165 -3.3145656620946187 0.31605204823333377;-0.54464910984815695 0.23291601615974974 -7.0028206904767742 -8.4905569649126367 1.1661622962064064 1.387153012840328 0.029985367889601183 2.908038397739575 0.44595914919677515 -0.18474796395463519 0.26122669902858719 0.027784368910812707 0.75627866880259564 -0.065146110191239101 0.29035472349776026 0.23063187129471935 -0.083595361477858177 0.11075318150266855 0.17249350577620678 0.35750133190288946 -0.55148063649941581 5.5485758147589737 -0.54982617051633409 -0.32909418101740767 -0.37936673369367085 -0.16816522149199231 -0.45274230461474751 -0.30864636155049235 5.657957944852595 -0.30122542679624614 -0.027414142542396117 -0.15071033163397926 1.8409881250765796 -0.16508315103522153;0.14510866073760409 -0.081017736653552302 -1.4878373179789548 -4.6473455249946527 -5.3122835975240887 -5.5286189218012085 -0.063415391027032489 2.5988913405529064 -0.28031087621515433 0.051007992224764175 0.51308270004643064 -0.110965593710789 2.5910594322143727 -0.0014079290043223481 0.340954652245962 -0.18892981460489386 0.044449953746585932 0.053273534528121058 -0.042628974055287983 -0.21179541071058616 0.23247946448846191 2.8919443901035833 -0.27675120420233368 -0.0067105848604371984 0.20175862374358269 -0.045080730594839587 -1.4626714413098252 -1.4322014790773498 0.28256060884548745 0.074179523789837443 -0.16414331931630927 0.27979861687660712 -0.40088617082670036 -0.27696925996104538;0.15311822697744154 0.079417210978544095 12.005801648692277 18.389376735314045 4.6462540601293894 4.7824446520289907 0.38160807941506719 -7.3489226292492171 0.45229985032862718 -0.072793225111771942 -0.59836017001579556 0.20830288425451005 2.0079712519389132 0.085473468820489895 -0.35942376050878183 -0.17932856779021075 0.3564507840910156 -0.25673540186288835 0.075830675372499157 0.0087342542724681976 0.63823965270866645 4.2634626442893344 -0.16275849474135487 0.55832194160943838 0.10601828403757181 -0.22430173362189837 2.2218106018393384 2.0964097039976792 4.260267710075115 0.010554453188051285 0.28187537794280915 0.1555864941816503 1.6566247720357796 0.26117971723812161;-0.20639393254855368 -0.12845546713125902 -4.1146590213636136 -4.4297848824970751 0.34556025738727869 0.40927304015986049 -0.32909117152731576 0.58103793699733586 -0.31620099515829025 -0.080428350544371613 0.25502880427960561 -0.19693824348772804 -0.16071254893418099 -0.24965814391718391 -0.19296350713278324 -0.052139044503704851 -0.29399634062867536 0.24786395290327104 0.26694500761876738 0.051884964896303759 -0.172356636159777 -0.36762031816979518 0.29739867972656697 -0.54313679815179761 -0.28746079402141517 -0.01175840802818548 -9.9149424274768521 -9.2498569000004078 -0.1027140444577493 -0.041296883100961843 -0.19156996574156113 0.0078691422485720319 -0.036662964972577011 -0.24232124030623048;-0.0090406259255464624 -0.076920339939092044 -2.3653520887063131 -3.8830182254308601 1.0589840531253045 1.2650528348260726 0.20185761614671999 1.6846319143250363 -0.045514295846465415 0.058818217548209512 -0.24151992279738763 0.53274593551456506 -1.0037584962066328 0.077373504538350082 0.15496828601457321 -0.07779175603659487 -0.15285817796526069 -0.070093239734377116 -1.3031430090448026 0.14240757753002817 0.17240537222222041 -2.6724207529199449 0.15563739020520592 0.0098823811045633172 0.19721769624430482 -0.22285538387711215 10.004637683338016 9.3708728300178095 -2.9088066949826232 0.38014468060684775 -0.12155758138882819 0.055480336329848501 -1.4939236441363493 0.16003402813338408;-0.1158343186108679 0.096092041617809279 -5.0846964924206395 -9.2179236421951458 -0.81371697866579629 -1.0610282711691725 0.32758313800862293 4.5531990869344119 0.68112084911544768 -0.096153681803528693 -0.070381999087303304 -0.29557909684540928 -2.9356494494560335 0.08741566652311436 -0.11949313460903348 -0.10710399428216956 -0.29632069021495139 0.25672221930405847 0.59624309836834344 -0.40834801656616432 -0.12055407256381108 -3.8182611874160348 -0.48205508839296723 0.19195475076582799 -0.47860757884734284 0.12523680108665458 -0.070460999480773223 -0.02791810881474617 -0.70666860822689781 -0.3993043697582857 0.14643152275688509 0.15414702485148951 0.87328242815575852 -0.049808689820311496;0.086288530427698296 -0.035980612362934303 -1.170070169408016 -2.4338943256874734 -1.0976371176330975 -1.1916178270916951 -0.066662945782207633 1.3173859627600681 0.018615051587793151 0.069969366905950417 0.10270006293006745 0.0400093537656988 -0.14467785265760519 0.11767588113799199 -0.12292626900528809 0.13049143506153424 0.034604348870280806 -0.038735743539175027 -0.22692458171122229 -0.15546188827176097 -0.19660491734326249 -0.66427760903987221 -0.20614197198084691 0.02185382627938233 0.0087244995903172761 0.12821428228754203 -0.49248331525698552 -0.61799096500387762 -0.6951215176720178 0.080174645300536695 -0.040656502444490372 -0.065571536380242004 -0.26926901775809781 -0.050207962149519822;0.31568778938116743 0.047804622972457217 3.5030266489594224 4.574244919183589 1.2616314446883417 1.3147121207354733 0.011692040037809126 -1.5211928940007489 -0.17811750351987193 0.20858823683507097 0.17933674581670045 -0.14275964938443678 0.69487550977268897 0.093073501046623236 0.09528918038754404 0.15705448280034628 -0.068715467424119062 0.025972300240640008 0.012570774524164925 -0.019970297094771813 -0.0032514995467231296 1.2823276047921603 0.043070576241360584 0.26122367004772817 0.051272428493389283 0.20722008339346373 0.47051167047104525 0.33680703325863248 0.94278216453911567 -0.18718473508663641 -0.12505085475597372 -0.11423729776721665 0.38934334665728948 -0.086588693151010032;0.07162760999492547 -0.0307842757506799 2.7187089936280953 5.1053917703656566 -1.3781096182388224 -1.4300029921771125 -0.0034443057278126764 -2.5198484208159191 0.096617261956856118 0.0092984254427373042 0.063276164557426462 0.08971441672603965 0.081640833963822282 0.012655143993426711 0.071517033866195845 0.050886237206596359 -0.05939580199670421 -0.045041141334803213 0.0079873971379788543 0.1203659614032016 0.065191187396222455 -0.16688441133349496 0.11468412317651991 -0.016016295520342227 -0.053907181060077872 0.060301702560050727 0.14427676249444807 0.15172352063478958 -0.41499611060388025 0.096462859260436948 0.095084178152555904 -0.011885859448905032 -0.24452430342830714 0.036670778546293907];
  
  % Output 1
  y1_step1_ymin = -1;
  y1_step1_gain = [2;2;2;2;2;2;2;2;2;2;2];
  y1_step1_xoffset = [0;0;0;0;0;0;0;0;0;0;0];
  
  % ===== SIMULATION ========
  
  % Dimensions
  Q = size(x1,2); % samples
  
  % Input 1
  xp1 = mapminmax_apply(x1,x1_step1_gain,x1_step1_xoffset,x1_step1_ymin);
  
  % Layer 1
  a1 = tansig_apply(repmat(b1,1,Q) + IW1_1*xp1);
  
  % Layer 2
  a2 = repmat(b2,1,Q) + LW2_1*a1;
  
  % Output 1
  y1 = mapminmax_reverse(a2,y1_step1_gain,y1_step1_xoffset,y1_step1_ymin);
end

% ===== MODULE FUNCTIONS ========

% Map Minimum and Maximum Input Processing Function
function y = mapminmax_apply(x,settings_gain,settings_xoffset,settings_ymin)
  y = bsxfun(@minus,x,settings_xoffset);
  y = bsxfun(@times,y,settings_gain);
  y = bsxfun(@plus,y,settings_ymin);
end

% Sigmoid Symmetric Transfer Function
function a = tansig_apply(n)
  a = 2 ./ (1 + exp(-2*n)) - 1;
end

% Map Minimum and Maximum Output Reverse-Processing Function
function x = mapminmax_reverse(y,settings_gain,settings_xoffset,settings_ymin)
  x = bsxfun(@minus,y,settings_ymin);
  x = bsxfun(@rdivide,x,settings_gain);
  x = bsxfun(@plus,x,settings_xoffset);
end
